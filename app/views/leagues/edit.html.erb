<h2>Edit League</h2>

<%= form_for(@league, :html => {:class => "well form-horizontal"}) do |f| %>
  <%= render 'shared/error_messages_league', :object => f.object %>
  <div class="control-group">
    <%= f.label :name, :class => "control-label" %>
    <div class="controls"><%= f.text_field :name %></div>
  </div>
  <div class="control-group">
    <%= f.label :year, :class => "control-label" %>
    <div class="controls"><%= f.text_field :year %></div>
  </div>
  <div class="control-group">
    <%= f.label :supports_games, :class => "control-label" %>
    <div class="controls"><%= f.check_box :supports_games %></div>
  </div>

  <div class="alert">Indicate whether you want to manage games. If you choose "Support Games",
    you want to manage individual games and have your league table updated automatically.
    Leave it unchecked if you would like to manually edit your league table (wins/losses) manually without game management.</div>

  <% !@league.supports_games? && unless @league.teamstats.empty? %>
    <table id="teamstats_table" class="table table-condensed">
    <tr>
      <th title="Club">Club</th>
      <th title="Wins">Wins</th>
      <th title="Losses">Losses</th>
      <th title="Ties">Ties</th>
      <th title="Goals For">Goals For</th>
      <th title="Goals Against">Goals Against</th>
    </tr>
    <%= render "teamstat_fields", :f => f %>
  </table>
  <% end %>
  <div class="form-actions">
    <%= f.submit "Update", :class => "btn" %>
    <%= link_to "Cancel", "/leagues/#{@league.id}", :class => "btn" %>
  </div>
<% end %>

<div class="modal hide" id="gameWarning">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">Ã—</button>
    <h3>Game Management Warning</h3>
  </div>
  <div class="modal-body"></div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">OK</a>
  </div>
</div>
